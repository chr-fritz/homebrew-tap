# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class KnxExporter < Formula
  desc "The KNX Prometheus Exporter is a small bridge to export values measured by KNX sensors to Prometheus."
  homepage "https://github.com/chr-fritz/knx-exporter"
  version "1.2.2"
  license "Apache-2.0"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/chr-fritz/knx-exporter/releases/download/v1.2.2/knx-exporter_1.2.2_darwin_amd64.tar.gz"
      sha256 "c5928070d82baa671073ad86b33eed97111188ee48af7d31806f69c76b9d9589"

      def install
        bin.install "knx-exporter"
        bash_completion.install "completions/knx-exporter.bash" => "knx-exporter"
        zsh_completion.install "completions/knx-exporter.zsh" => "_knx-exporter"
        fish_completion.install "completions/knx-exporter.fish"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/chr-fritz/knx-exporter/releases/download/v1.2.2/knx-exporter_1.2.2_darwin_arm64.tar.gz"
      sha256 "956fad7f78088d6bf9d09ca9838cfd2fe29c3a855c2700e112f28ffb0ea0fcf9"

      def install
        bin.install "knx-exporter"
        bash_completion.install "completions/knx-exporter.bash" => "knx-exporter"
        zsh_completion.install "completions/knx-exporter.zsh" => "_knx-exporter"
        fish_completion.install "completions/knx-exporter.fish"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? and Hardware::CPU.is_64_bit?
      url "https://github.com/chr-fritz/knx-exporter/releases/download/v1.2.2/knx-exporter_1.2.2_linux_amd64.tar.gz"
      sha256 "ab1df9fb58f639b2ea00fa0f5217c4effa019c8fc948c1934c817dbc70575ae1"
      def install
        bin.install "knx-exporter"
        bash_completion.install "completions/knx-exporter.bash" => "knx-exporter"
        zsh_completion.install "completions/knx-exporter.zsh" => "_knx-exporter"
        fish_completion.install "completions/knx-exporter.fish"
      end
    end
    if Hardware::CPU.arm? and Hardware::CPU.is_64_bit?
      url "https://github.com/chr-fritz/knx-exporter/releases/download/v1.2.2/knx-exporter_1.2.2_linux_arm64.tar.gz"
      sha256 "3deac5836858bedb4248a0f0bdcdc4b48121cfd884af8baac9a6d80c620c1a8d"
      def install
        bin.install "knx-exporter"
        bash_completion.install "completions/knx-exporter.bash" => "knx-exporter"
        zsh_completion.install "completions/knx-exporter.zsh" => "_knx-exporter"
        fish_completion.install "completions/knx-exporter.fish"
      end
    end
  end

  test do
    system "#{bin}/knx-exporter --version"
  end
end
